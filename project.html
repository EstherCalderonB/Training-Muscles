<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Esther Calderon">

<title>Train Smart, Train Even: What Gym Exercises Reveal About Muscle Imbalances</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="project_files/libs/clipboard/clipboard.min.js"></script>
<script src="project_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="project_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="project_files/libs/quarto-html/popper.min.js"></script>
<script src="project_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="project_files/libs/quarto-html/anchor.min.js"></script>
<link href="project_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="project_files/libs/quarto-html/quarto-syntax-highlighting-0815c480559380816a4d1ea211a47e91.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="project_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="project_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="project_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="project_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="project_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="project_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="project_files/libs/datatables-binding-0.33/datatables.js"></script>

<script src="project_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="project_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="project_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="project_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="project_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="project_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Train Smart, Train Even: What Gym Exercises Reveal About Muscle Imbalances</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Esther Calderon </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>In the pursuit of strength, aesthetics, or athletic performance, most people rely on exercise programs built from online workouts, personal trainers, or general fitness trends. But how balanced are these programs really? Using a structured dataset of over 1,000 categorized exercises—including their primary, secondary, and tertiary muscles—this study investigates which muscle groups are most frequently targeted, and more importantly, which are consistently neglected.</p>
<p>A full count of all 42 muscles in the dataset reveals the concentration of volume in a few muscles, while others appear in fewer than 30 exercises.</p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-1c0d35673d79195962ec" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1c0d35673d79195962ec">{"x":{"filter":"none","vertical":false,"data":[["Gluteus Maximus","Quadriceps Femoris","Rectus Abdominis","Biceps Femoris","Anterior Deltoids","Adductor Magnus","Triceps Brachii","Obliques","Latissimus Dorsi","Biceps Brachii","Pectoralis Major","Iliopsoas","Posterior Deltoids","Soleus","Brachioradialis","Brachialis","Gluteus Medius","Gluteus Minimus","Gastrocnemius","Rhomboids","Infraspinatus","Anconeus","Teres Minor","Erector Spinae","Flexor Carpi Radialis","Serratus Anterior","Upper Trapezius","Tibialis Anterior","Tibialis Posterior","Levator Scapulae","Tensor Fasciae Latae","Rectus Femoris","Lateral Deltoids","Supraspinatus","Teres Major","Transverse Abdominis","Extensor Digitorum Longus","Extensor Hallucis Longus","Medial Deltoids","Trapezius","Subscapularis","Vastus Mediais"],[1654,1399,625,599,577,470,451,251,232,224,214,213,183,177,147,99,86,60,52,41,36,35,33,31,29,23,23,21,20,19,15,14,13,9,8,8,6,6,6,6,4,1]],"container":"<table class=\"stripe hover cell-border order-column\">\n  <thead>\n    <tr>\n      <th>Muscle<\/th>\n      <th>Exercise Count<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"autoWidth":true,"columnDefs":[{"className":"dt-right","targets":1},{"name":"Muscle","targets":0},{"name":"n","targets":1}],"order":[],"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="are-we-training-the-whole-body-evenly" class="level2">
<h2 class="anchored" data-anchor-id="are-we-training-the-whole-body-evenly">Are We Training the Whole Body Evenly?</h2>
<p>To better understand balance across the entire body, we grouped exercises by Target Muscle Group (e.g., Back, Glutes, Shoulders, Shins). The results show large imbalances:</p>
<ul>
<li><p>Regions like Abdominals, Glutes, and Quadriceps dominate programming.</p></li>
<li><p>Other zones such as Shins, Trapezius, and Calves are sparsely trained.</p></li>
<li><p>Within each region, only a few muscles tend to receive most of the attention (e.g., quadriceps &gt; vastus medialis, shoulders &gt; anterior deltoid only).</p></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="project_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="1392"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="which-muscles-are-trained-the-most" class="level2">
<h2 class="anchored" data-anchor-id="which-muscles-are-trained-the-most"><strong>Which Muscles Are Trained the Most?</strong></h2>
<p>Unsurprisingly, the data shows a strong bias toward larger, popular muscle groups. The gluteus maximus was the most frequently trained muscle across all exercises, appearing in over 1,600 entries. It was followed closely by the quadriceps femoris, rectus abdominis, and biceps femoris.</p>
<p>This reflects the cultural emphasis on lower-body and core-focused training—especially for compound movements like squats, lunges, and abdominal circuits.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="project_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="1392"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="most-neglected-muscles" class="level2">
<h2 class="anchored" data-anchor-id="most-neglected-muscles">Most Neglected Muscles</h2>
<p>On the other end of the spectrum, several small but functionally important muscles were severely underrepresented. Muscles like the subscapularis, vastus medialis, transverse abdominis, and supraspinatus appeared in fewer than 10 exercises.</p>
<p>These muscles are often critical for stability, joint health, and posture—particularly in the shoulders, hips, and core. Their neglect may contribute to performance plateaus or injury risk.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="project_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="1392"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="how-to-train-smarter-and-more-evenly" class="level2">
<h2 class="anchored" data-anchor-id="how-to-train-smarter-and-more-evenly">How to Train Smarter and More Evenly</h2>
<p>After analyzing over 1,000 exercises across all major muscle groups, the patterns are clear: some muscles get trained constantly, while others are barely touched.</p>
<p>It’s not just a matter of aesthetics — neglecting key muscles can lead to imbalances, plateaus, and even injury. So here’s how to take what the data is telling us and actually apply it to your training:</p>
<hr>
<section id="dont-just-push-pull-more" class="level3">
<h3 class="anchored" data-anchor-id="dont-just-push-pull-more">1. Don’t Just Push — Pull More</h3>
<p>A lot of gym programs are push-heavy. Think bench presses, pushups, shoulder presses — all great moves, but they leave muscles like your <strong>rear delts</strong>, <strong>rhomboids</strong>, and <strong>mid-back</strong> undertrained.</p>
<p><strong>Try this:</strong><br>
For every pressing movement, add a pull. Cable rows, reverse flys, face pulls — simple swaps that keep your shoulders healthy and your posture strong.</p>
<hr>
</section>
<section id="show-love-to-the-stabilizers" class="level3">
<h3 class="anchored" data-anchor-id="show-love-to-the-stabilizers">Show Love to the Stabilizers</h3>
<p>Muscles like the transverse abdominis, serratus anterior, and rotator cuff are like the backstage crew — you don’t see them, but they’re holding everything together.</p>
<p><strong>Try this:</strong><br>
Add a few minutes of deep core or scapular work at the end of your sessions. Dead bugs, bird dogs, banded shoulder rotations — boring? Maybe. Effective? Absolutely.</p>
<hr>
</section>
<section id="rethink-leg-day" class="level3">
<h3 class="anchored" data-anchor-id="rethink-leg-day">Rethink Leg Day</h3>
<p>Glutes and quads get plenty of love — but what about your VMO, adductors, and tibialis anterior? These often-neglected muscles are crucial for knee tracking and ankle stability.</p>
<p><strong>Try this:</strong><br>
Throw in some tib raises, Cossack squats, or Copenhagen planks. You’ll feel the difference — and so will your knees.</p>
<hr>
</section>
<section id="rotate-accessories-more-often" class="level3">
<h3 class="anchored" data-anchor-id="rotate-accessories-more-often">Rotate Accessories More Often</h3>
<p>Most of us default to the same handful of exercises over and over. That’s how certain muscles keep getting overtrained, while others are left behind.</p>
<p><strong>Try this:</strong><br>
Every 3–4 weeks, change up your accessory lifts. Target the muscles you usually avoid. Think lateral movements, hip internal/external rotation, and anti-rotation core work.</p>
<hr>
</section>
<section id="track-what-youre-actually-training" class="level3">
<h3 class="anchored" data-anchor-id="track-what-youre-actually-training">Track What You’re Actually Training</h3>
<p>Here’s the real takeaway: most people have no idea which muscles they’re <em>actually</em> training each week. Your split might say “push/pull/legs,” but are you consistently skipping rear delts, hamstrings, or core stabilizers?</p>
<p><strong>Try this:</strong><br>
Log your exercises by muscle group and do a monthly review. If you spot gaps, adjust. Your future self (and joints) will thank you.</p>
<hr>
<p>Training smart doesn’t mean you need to overhaul everything. It just means <strong>paying attention</strong>. The muscles that don’t get the spotlight are often the ones keeping you healthy, mobile, and performing at your best.</p>
<p>So next time you’re in the gym, ask yourself:<br>
&gt; ❝ Am I training everything — or just the stuff I see in the mirror? ❞</p>
</section>
</section>
<section id="behind-the-data" class="level2">
<h2 class="anchored" data-anchor-id="behind-the-data">Behind the Data</h2>
<p>This analysis was built on a structured dataset of over 1,000 exercises, each annotated with rich information like exercise name, difficulty level, equipment used, and—most importantly—the muscles targeted. The dataset included three separate columns for prime mover, secondary, and tertiary muscles, along with a general <code>"Target Muscle Group"</code> for broader classification (e.g., “Glutes”, “Back”, “Shoulders”).</p>
<p>To analyze the data, I used R and several core packages including <code>tidyverse</code>, <code>readxl</code>, and <code>tidytext</code>. First, I cleaned the data and transformed the multi-muscle columns using <code>separate_rows()</code>—a key step that allowed me to break apart cells like <code>"Glutes, Hamstrings"</code> into individual rows for accurate counting.</p>
<p>Next, I counted how often each muscle appeared, both overall and within its target region. This helped me surface important patterns:</p>
<ul>
<li><p>Some muscles like the gluteus maximus, rectus abdominis, and quadriceps appeared in hundreds of exercises</p></li>
<li><p>Others like the serratus anterior, transverse abdominis, and posterior deltoid were barely represented.</p></li>
<li><p>Finally, I visualized the data using <code>ggplot2</code>, grouping the top 4 muscles in each region and highlighting the 5 most neglected muscles overall. These visuals directly informed my final recommendations on how to improve balance and reduce blind spots in common training programs.</p></li>
</ul>
<p>So if you’re wondering how this blog post knows you might be overtraining your quads and skipping your deep core — now you know.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>